{"version":3,"sources":["firebase.js","components/SidebarChat.js","StateProvider.js","components/Sidebar.js","components/Chat.js","reducer.js","components/Login.js","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","SidebarChat","addNewChat","id","name","useState","setSeed","messages","setMessages","useEffect","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","onClick","roomName","prompt","add","className","to","slice","message","length","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Sidebar","rooms","setRooms","user","unsubscribe","SearchOutlined","type","placeholder","class","room","Chat","input","setInput","roomId","useParams","setRoomName","sendMessage","e","preventDefault","console","log","displayName","timestamp","FieldValue","serverTimestamp","Date","toDate","toUTCString","IconButton","AttachFile","MoreVert","onSubmit","onChange","target","actionTypes","state","action","Login","dispatch","src","alt","Button","signInWithPopup","then","result","catch","error","alert","Navbar","href","Dropdown","Toggle","variant","Menu","Item","Avatar","photoURL","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.923f645b.chunk.js","sourcesContent":["import firebase from \"firebase\";  \r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC-uha21mHfjDgj-skM7cZf_D0sWW7I7r4\",\r\n    authDomain: \"waffles-60684.firebaseapp.com\",\r\n    projectId: \"waffles-60684\",\r\n    storageBucket: \"waffles-60684.appspot.com\",\r\n    messagingSenderId: \"177464302138\",\r\n    appId: \"1:177464302138:web:9086fe45d8b916ada6b303\",\r\n    measurementId: \"G-2YFY3LH00C\"\r\n  };\r\n\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n  const db = firebaseApp.firestore(); \r\n  const auth = firebaseApp.auth();\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n  export {auth,provider};\r\n  export default db;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Avatar } from '@material-ui/core';\r\nimport './SidebarChat.css';\r\nimport db from '../firebase';\r\nimport  { Link } from \"react-router-dom\";\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\n\r\nfunction SidebarChat({addNewChat, id, name}) {\r\n  const [seed, setSeed] = useState(\"\");\r\n  const [messages, setMessages] = useState(\"\");\r\n \r\n  useEffect(() => {\r\n    if(id){\r\n        db.collection('Rooms').doc(id).collection('messages').orderBy('timestamp','desc').onSnapshot(snapshot => {\r\n            setMessages(snapshot.docs.map((doc) => doc.data()))\r\n        })\r\n\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(()=> {\r\n    setSeed(Math.floor(Math.random() * 5000));\r\n  }, []);\r\n\r\n  const createChat = () => {\r\n    const roomName = prompt(\"Enter name for new chat room \");\r\n\r\n    if(roomName){\r\n      db.collection(\"Rooms\").add({\r\n        name: roomName\r\n      })\r\n    }\r\n  };\r\n\r\n    return  !addNewChat ? (\r\n      <Link to={`/rooms/${id}`}>\r\n\r\n        <div className=\"sidebarChat_container\">\r\n        <div className=\"sidebarChat\">\r\n          {/* <Avatar\r\n            className=\"avatar\"\r\n            src={`https://avatars.dicebear.com/api/human/${seed}.svg`}\r\n          /> */}\r\n          <div className=\"room_avatar_sb\">\r\n            <h2 className=\"logo_heading_sb\">{name.slice(0,1)}</h2>\r\n          </div>\r\n          <div className=\"sidebarChat_info\">\r\n            <h2>{name}</h2>\r\n            <p>{\r\n              messages[0]?.message.length>40 ? messages[0]?.message.slice(0,40)  + \" ...\" : messages[0]?.message\r\n            \r\n            }</p>\r\n          </div>\r\n        </div>\r\n        <hr/>\r\n      </div>\r\n\r\n      </Link>\r\n       ) : (\r\n        <div onClick={createChat} className=\"sidebarChat_Btn\">\r\n            <h3 className=\"add-new-chat-title\"> {<PersonAddIcon />} </h3>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SidebarChat\r\n","import React, {createContext,useContext,useReducer} from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n        {children} \r\n    </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n\r\n//children = App\r\n//6-8: allows us to set up the data layer\r\n//11: pull info from data layer","import React from 'react';\r\nimport {useState,useEffect} from 'react'\r\nimport './Sidebar.css'; \r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport {SearchOutlined, Settings} from \"@material-ui/icons\";\r\nimport db from '../firebase';\r\nimport SidebarChat from './SidebarChat'\r\nimport { useStateValue } from '../StateProvider';\r\n// import PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\n\r\nfunction Sidebar() {\r\n\r\n  const [rooms,setRooms] = useState([]);\r\n  const [{user}, dispatch] = useStateValue();\r\n\r\n  useEffect(() => {\r\n     const unsubscribe = db.collection('Rooms').onSnapshot(snapshot => (\r\n        setRooms(\r\n          snapshot.docs.map(doc => (\r\n            {\r\n                id: doc.id,\r\n                data: doc.data(),\r\n            }\r\n        )\r\n\r\n        ))\r\n    ));\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n},[]); \r\n\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      {/* <div className=\"sidebar_header\">\r\n\r\n\r\n      </div> */}\r\n\r\n      <div className=\"sidebar_search\">\r\n        <div className=\"sidebar_searchContainer\">\r\n          <SearchOutlined />\r\n          <input type=\"text\" placeholder=\"SEARCH\" />\r\n          \r\n        </div>\r\n        <SidebarChat class=\"addChat_Btn\" addNewChat />\r\n      </div>\r\n\r\n      <div className=\"sidebar_chats\">\r\n        {/* <SidebarChat addNewChat /> */}\r\n        {rooms.map((room) => (\r\n          <SidebarChat key={room.id} id={room.id} name={room.data.name} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\nimport './Chat.css';\r\nimport {Avatar, IconButton} from '@material-ui/core';\r\nimport {AttachFile, MoreVert, SearchOutlined} from '@material-ui/icons';\r\n// import MicIcon from '@material-ui/icons/Mic';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\n// import SendIcon from '@material-ui/icons/Send';\r\nimport ExpandLessSharpIcon from '@material-ui/icons/ExpandLessSharp';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\n// import { Button } from 'react-bootstrap';\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport db from '../firebase';\r\nimport {useStateValue} from \"../StateProvider\";\r\nimport firebase from 'firebase';\r\n\r\n\r\nfunction Chat() {\r\n  const [seed,setSeed] = useState(\"\");\r\n  const [input, setInput] = useState(\"\");\r\n  const {roomId} = useParams();\r\n  const [roomName, setRoomName] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [{user}, dispatch] = useStateValue();\r\n\r\n  useEffect(()=>{\r\n    if(roomId){\r\n        db.collection('Rooms').doc(roomId).onSnapshot(snapshot => {\r\n            setRoomName(snapshot.data().name);\r\n        });\r\n\r\n        // console.log(roomName)\r\n        db.collection('Rooms').doc(roomId).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot(snapshot => {\r\n            setMessages(snapshot.docs.map(doc => doc.data()))\r\n        });\r\n\r\n    }\r\n},[roomId])\r\n\r\n\r\n  useEffect( ()=> {\r\n    setSeed(Math.floor(Math.random() *5000));\r\n  },[roomId]);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    \r\n    console.log(\" You typed >>>\", input);\r\n\r\n    \r\n\r\n    if (input != \"\") {\r\n      db.collection('Rooms').doc(roomId).collection('messages').add({\r\n        message: input,\r\n        name: user.displayName,\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    } else {\r\n      console.log(\"Empty message\")\r\n    }\r\n    setInput(\"\");\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n\r\n      <div className=\"chat_window\">\r\n        <div className=\"chat_header\">\r\n          {/* <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} /> */}\r\n\r\n          <div className=\"room_avatar\">\r\n            <h2 className=\"logo_heading\">{roomName.slice(0,1)}</h2>\r\n          </div>\r\n\r\n          <div className=\"chat_headerInfo\">\r\n            <h3 className=\"chat-room-name\">{roomName}</h3>\r\n            <p className=\"chat-room-last-seen\"> \r\n                {\r\n                 messages.length > 0 ?  \r\n                 \"Last seen: \" + \r\n                new Date(\r\n                    messages[messages.length - 1]?.\r\n                    timestamp?.toDate()\r\n                ).toUTCString()\r\n                 : \" No messages available yet\"\r\n                }\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"chat_headerRight\">\r\n            <IconButton>\r\n              <SearchOutlined />\r\n            </IconButton>\r\n            <IconButton>\r\n              <AttachFile />\r\n            </IconButton>\r\n            <IconButton>\r\n              <MoreVert />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"chat_body\">\r\n\r\n          {messages.map((message) => (\r\n            <p key={message.id} className={`chat_message ${message.name === user.displayName && \"chat_receiver\"}`}>\r\n              <span className=\"chat_name\">{message.name === user.displayName ? \"You \" :message.name}</span>\r\n              {message.message}\r\n              <br/>\r\n              <p className=\"chat_timestamp\">\r\n                {new Date(message.timestamp?.toDate()).toUTCString()}\r\n              </p>\r\n            </p>                               \r\n          ))}\r\n\r\n          {/* <button className=\"scroll_downBtn\">down</button>  */}\r\n        </div>\r\n\r\n        <div className=\"chat_footer\">\r\n          <form onSubmit={sendMessage} \r\n               className=\"message_form\">\r\n            <button className=\"emoji_button\">\r\n              <InsertEmoticonIcon />\r\n            </button>\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              type=\"text\"\r\n              placeholder=\"Type a message\"\r\n            />\r\n            {/* <MicIcon /> */}\r\n            <button className=\"emoji_button2\">\r\n              <AttachFileIcon />\r\n            </button>\r\n            <button\r\n              className=\"form_sendButton\"\r\n              type=\"submit\"\r\n              onClick={sendMessage}\r\n            >\r\n              Send\r\n            </button>\r\n          </form>\r\n\r\n          <button className=\"sendButton\" onClick={sendMessage}>\r\n            <ExpandLessSharpIcon />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Chat\r\n","export const initialState = {\r\n    user:null,\r\n};\r\n//initial state: how the data layer looks initially\r\n\r\nexport const actionTypes = {\r\n    SET_USER : \"SET_USER\",\r\n};\r\n//pushing user into datalayer\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action)\r\n    switch(action.type){\r\n        case actionTypes.SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.user,\r\n            }; //changes\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import { Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport './Login.css';\r\nimport {auth,provider} from '../firebase';\r\nimport { actionTypes } from '../reducer';\r\nimport { useStateValue } from '../StateProvider';\r\n\r\nfunction Login() {\r\n    const [{}, dispatch] = useStateValue();\r\n    const signIn = () => {\r\n        auth\r\n            .signInWithPopup(provider)\r\n            .then((result) => \r\n            {\r\n                dispatch({\r\n                    type: actionTypes.SET_USER,\r\n                    user: result.user,\r\n                });\r\n            })\r\n            // console.log(result))\r\n            .catch((error) => alert(error.message));\r\n    };\r\n    \r\n    return (\r\n      <div className=\"login\">\r\n        <div className=\"login_container\">\r\n          <img\r\n            src=\"http://getdrawings.com/free-icon/waffle-icon-73.png\"\r\n            alt=\"img0\"\r\n          />\r\n          <div className=\"login_text\">\r\n            <h1>Sign in to Waffles</h1>\r\n          </div>\r\n          <Button type=\"submit\" onClick={signIn}>\r\n            Sign in With Google\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport './Navbar.css'\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport { useStateValue } from '../StateProvider';\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport ContactPhoneIcon from '@material-ui/icons/ContactPhone';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Navbar() {\r\n\r\n  const [{user}, dispatch] = useStateValue();\r\n  \r\n    return (\r\n      <div className=\"app_bar\">\r\n        <div className=\"logo\">\r\n          <h2>WAFFLES</h2>\r\n          {/* <img \r\n                        src=\"http://getdrawings.com/free-icon/waffle-icon-73.png\"\r\n                        alt=\"img0\"\r\n                    /> */}\r\n        </div>\r\n\r\n        <div className=\"options_list\">\r\n            <div id=\"option1\" className=\"list_item\">\r\n                <a className=\"a_tag\" href=\"#\">\r\n                HOME\r\n                </a>\r\n            </div>\r\n                <div id=\"option2\" className=\"list_item\" >\r\n                <a className=\"a_tag\" href=\"#\">\r\n                CONTACTS\r\n                </a>\r\n            </div>\r\n                <div id=\"option3\" className=\"list_item\">\r\n                <a className=\"a_tag\" href=\"#\">\r\n                ABOUT\r\n                </a>\r\n            </div>\r\n                <div id=\"option4\" className=\"list_item\">\r\n                <div class=\"dropdown\">\r\n                <Dropdown className=\"app_bar_dropdown\">\r\n                    <Dropdown.Toggle variant=\"success\">MORE</Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                    <Dropdown.Item href=\"#\">Settings</Dropdown.Item>\r\n                  <Dropdown.Item href=\"http://localhost:3000/\">Logout</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"avatar_container\">\r\n          <Avatar className=\"nav_avatar\" src={user?.photoURL} />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Navbar\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from './components/Sidebar';\r\nimport Chat from './components/Chat';\r\nimport { BrowserRouter as Router,Switch, Route} from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport Login from './components/Login'\r\nimport Navbar from './components/Navbar';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [{user}, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"app\">\r\n\r\n      {\r\n        !user ? \r\n        ( <Login/>)\r\n        :\r\n        (\r\n            <div className=\"app_container\">\r\n              <div className=\"navBar_container\">\r\n                <Navbar/>\r\n              </div> \r\n            \r\n            <div className=\"app_body\">\r\n        \r\n              <Router>\r\n                <Sidebar/>\r\n                <Switch>\r\n                  <Route path=\"/rooms/:roomId\">\r\n                    <Chat/>\r\n                  </Route>\r\n                  <Route path=\"/\">\r\n                    <Chat/>\r\n                  </Route>              \r\n                </Switch>            \r\n              </Router>\r\n              \r\n            </div> \r\n\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport reducer, {initialState} from './reducer'\r\nimport {StateProvider} from './StateProvider'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StateProvider initialState={initialState} reducer={reducer}>\r\n    <App />\r\n    </StateProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}